# sf_chat
First tes project for Skillfactory course of C++

## Разработчики:

- Кузнецов Леонид.

## Решения:
Поскольку чат, обычно, является сетевым приложением, в программе было решено реализовать имитацию клиент-серверного взаимодействия, с прицелом на то, что в дальнейшем приложение будет развиваться и в будущем разовьется в сетевое. Поэтому оно реализовано на двух основных классах: Client - непосредственное взаимодействие с пользователем, и Server - функционал созданию и хранению пользовательских данных, хранению и отправки сообщений. Client в ответ на пользовательский ввод дергает метод Server::request, передавая ему объект запроса, Server запрос обрабатывает и возвращает объект ответа с результатом (успех/не успех, описание и при необходимости данные). Так же при получении сообщения Server информирует зарегистрированных клиентов, которым оно предназанчено о нем.

## Используемые типы:
1. class Client - предоставляет пользовательский интерфейс и обеспечивает взаимодействие пользователя с сервером.
2. class Server - основной функционал (создание пользователей, хранение пользователей и сообщений, отправка сообщений пользователям).
3. class User - информация о пользователе (логин, пароль, имя).
4. class Message - информация о сообщении (отправитель, получатель, сам текст сообщения)
5. class Request - класс от которого наследуют все остальные классы запросов (RegistrationRequest - запрос на регистрацию пользователя, LoginRequest - запрос на авторизацию, LogoutRequest - запрос на отключение, SendMessageRequest - запрос на отправку сообщения, GetMessageRequest - запрос на получение сообщения), каждому запросу соответсвует свой класс.
6. class Response - ответ сервера (успех/не успех и пояснение).
7. class DataResponse< T > - наследует от Response используется для передачи дополнительной информации (пользователь в ответ на LoginRequest и сообщение в ответ на GetMessageRequest).
8. class ServerRequest - объект отправляется сервером клиенту для информирования последнего, что для него есть новое сообщение.
9. class Files - работа с файлами: чтение произвольной строки и добавление строк в конец файла.
10. class Messages - расширяет Files для хранения сообщений.
11. class Users - расширяет Files для хранения пользователей.